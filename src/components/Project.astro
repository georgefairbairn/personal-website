---
const { project, flip } = Astro.props;

const technologies = {
  react: {
    logo: `${import.meta.env.PUBLIC_CLOUDINARY_URL}/react_mefvhx.svg`,
    link: "https://reactjs.org/",
  },
  typescript: {
    logo: `${import.meta.env.PUBLIC_CLOUDINARY_URL}/typescript_nutfsj.svg`,
    link: "https://www.typescriptlang.org/",
  },
  javascript: {
    logo: `${import.meta.env.PUBLIC_CLOUDINARY_URL}/javascript_i1tsgl.svg`,
    link: "https://www.javascript.com/",
  },
  redux: {
    logo: `${import.meta.env.PUBLIC_CLOUDINARY_URL}/redux_ckdhwq.svg`,
    link: "https://redux.js.org/",
  },
  jest: {
    logo: `${import.meta.env.PUBLIC_CLOUDINARY_URL}/jest_dp5xba.svg`,
    link: "https://jestjs.io/",
  },
  chartjs: {
    logo: `${import.meta.env.PUBLIC_CLOUDINARY_URL}/jest_dp5xba.svg`,
    link: "https://www.chartjs.org/",
  },
};

const projects = {
  comprehensible_invites: {
    title: "Comprehensible Invites",
    imgSrc: `${
      import.meta.env.PUBLIC_CLOUDINARY_URL
    }/comprehensible_invites_t180i1.svg`,
    company: {
      name: "Slack",
      logo: `${import.meta.env.PUBLIC_CLOUDINARY_URL}/Slack_zhfq4x`,
    },
    dates: "August 2021 - January 2022",
    content:
      "This project aimed to improve the invite experience when adding people outside your workspace to a channel using Slack Connect. I helped build a step-by-step flow that guided users to send the correct invite type in a thoughtfully designed, intelligently architected and pleasant experience.<br /><br />This was a key company project and led to increased Slack Connect channel adoption and a reduction in Slack Connect invites accidentally sent to internal teammates.",
    technologies: ["typescript", "react", "javascript", "redux", "jest"],
  },
  voleo: {
    title: "Voleo",
    imgSrc: `${import.meta.env.PUBLIC_CLOUDINARY_URL}/voleo_vgjd0v.svg`,
    company: {
      name: "Convergence Concepts",
      logo: `${
        import.meta.env.PUBLIC_CLOUDINARY_URL
      }/convergence_logo_wh6t5r.svg`,
    },
    dates: "November 2019 - April 2020",
    content:
      "Voleo is a social trading platform allowing users to join trading groups and make investment decisions as a team. In this project, I worked on the front-end of the site, implementing the login & account creation flows, as well as the trade creation pages.<br /><br />I implemented a re-usable mechanism to interact with the Voleo API&apos;s, and leveraged NPM graphing libraries like Chart.js to visualise trading data. I also helped to build the counterpart native mobile application in React Native.",
    technologies: ["react", "javascript", "chartjs"],
  },
};
---

<div class="flex my-24">
  {flip ? (
    <>
      <div class="mr-8 max-w-2xl">
        <h3 class="text-2xl font-bold">{projects[project].title}</h3>
        <p class="flex items-center text-xs mt-1 mb-3.5">
          <img
            class="inline h-auto w-4 mr-1"
            src={`${projects[project].company.logo}`}
          />
          <strong>{`${projects[project].company.name}`}&nbsp;</strong>
          {`| ${projects[project].dates}`}
        </p>
        <p>{projects[project].content}</p>
        <div class="mt-10">
          <p>
            <strong>Technologies used:</strong>
          </p>
          <div class="flex">
            {projects[project].technologies.map((tech: string) => (
              <a
                href={technologies[tech].link}
                target="_blank"
                rel="noopener noreferrer"
              >
                <img class="mt-2 mr-4" src={technologies[tech].logo} />
              </a>
            ))}
          </div>
        </div>
      </div>
      <img class="flex-1" src={projects[project].imgSrc} />
    </>
  ) : (
    <>
      <img class="flex-1" src={projects[project].imgSrc} />
      <div class="ml-8 max-w-2xl">
        <h3 class="text-2xl font-bold">{projects[project].title}</h3>
        <p class="flex items-center text-xs mt-1 mb-3.5">
          <img
            class="inline h-auto w-4 mr-1"
            src={`${projects[project].company.logo}`}
          />
          <strong>{`${projects[project].company.name}`}&nbsp;</strong>
          {`| ${projects[project].dates}`}
        </p>
        <p>{projects[project].content}</p>
        <div class="mt-10">
          <p>
            <strong>Technologies used:</strong>
          </p>
          <div class="flex">
            {projects[project].technologies.map((tech: string) => (
              <a
                href={technologies[tech].link}
                target="_blank"
                rel="noopener noreferrer"
              >
                <img class="mt-2 mr-4" src={technologies[tech].logo} />
              </a>
            ))}
          </div>
        </div>
      </div>
    </>
  )}
</div>
